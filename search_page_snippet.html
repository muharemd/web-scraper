<body>
<noscript><iframe height="0" src="https://www.googletagmanager.com/ns.html?id=GTM-W4VNPK3" style="display:none;visibility:hidden" width="0"></iframe></noscript>
<div class="main-wrapper">
<div class="wallpaper wallpaper--left">
<div id="Wallpaper_Left"></div>
</div>
<div class="wallpaper wallpaper--right">
<div id="Wallpaper_Right"></div>
</div>
<div id="protag-player"></div>
<script type="text/javascript">
         window.googletag = window.googletag || { cmd: [] };
         window.protag = window.protag || { cmd: [] };
         window.protag.cmd.push(function () {
           window.protag.display("protag-player");
         });
      </script>
<div class="header-menu-section bg bg-{SECTION-SLUG}">
<div id="module_100">
<script>load_module('100');</script>
</div>
</div>
<div class="HP-wrapper HP-wrapper--ad">
<div class="se-module se-group-horizontal-ads-top se-module se-group-horizontal-ads-top-section" id="Billboard_1">
</div>
</div>
<form action="/pretraga" method="GET">
<div class="HP-wrapper">
<div class="se-module se-group-search">
<input class="se-group-search-field" id="search" name="search" placeholder="Pojmovi pretraživanja" type="text"/>
<button class="se-group-search-dugme" type="submit">
<svg fill="none" height="21" viewbox="0 0 21 21" width="21" xmlns="http://www.w3.org/2000/svg">
<path d="M20.3859 17.5547C20.7375 17.9453 20.7375 18.5312 20.3469 18.8828L19.2531 19.9766C18.9016 20.3672 18.3156 20.3672 17.925 19.9766L14.0578 16.1094C13.8625 15.9141 13.7844 15.6797 13.7844 15.4453V14.7812C12.3781 15.875 10.6594 16.5 8.78438 16.5C4.29219 16.5 0.659375 12.8672 0.659375 8.375C0.659375 3.92188 4.29219 0.25 8.78438 0.25C13.2375 0.25 16.9094 3.92188 16.9094 8.375C16.9094 10.2891 16.2453 12.0078 15.1906 13.375H15.8156C16.05 13.375 16.2844 13.4922 16.4797 13.6484L20.3859 17.5547ZM8.78438 13.375C11.5188 13.375 13.7844 11.1484 13.7844 8.375C13.7844 5.64062 11.5188 3.375 8.78438 3.375C6.01094 3.375 3.78438 5.64062 3.78438 8.375C3.78438 11.1484 6.01094 13.375 8.78438 13.375Z" fill="#212529"></path>
</svg>
</button>
</div>
</div>
</form>
<div class="HP-wrapper">
<div class="se-section se-section--{SECTION-SLUG}">
<div class="se-module se-group-listing">
<input id="search_term" name="search_term" type="hidden">
<div class="se-module se-module--category-ads" id="listing_side">
</div>
<div class="se-module se-module--listing" id="article_search">
</div>
<div class="load-more">
<div class="load-more--seperator"></div>
<div class="load-more--btn-wrap">
<div class="load-more--position">
<button class="load-more--button" id="load_more_button" onclick="searchArticles(document.getElementById('search_term').value,10,document.getElementById('article_search').childElementCount,3)">
                            Učitaj više
                        </button>
</div>
</div>
</div>
<script>
                document.addEventListener('DOMContentLoaded', function () {
                    const queryString = window.location.search;
                    const urlParams = new URLSearchParams(queryString);
                    const search = urlParams.get('search');
                    document.getElementById('search_term').value = search;
                    document.getElementById('search').value = search;
                    searchArticles(search, 10, document.getElementById('article_search').childElementCount, 12)
                }, false);
                function searchArticles(searchTerm, cardID, offset = 0, limit = 10) {
                    var combining = /[\u0300-\u036F]/g;
                    var searchASCII = searchTerm.normalize('NFKD').replace(combining, '');
                    var cleanString = searchASCII.replace(/[^a-zA-Z0-9 ]/g, '');
                    var words = cleanString.toLowerCase().split(" ");

                    var slugs = new Object();
                    for (i = 0; i < words.length; i++) {
                        if (words[i].length < 4) {
                            continue;
                        }
                      console.log(words[i]);
                        var firstChars = words[i].slice(0, 2);
                        var response = getFileContent('/articles_search/' + firstChars + '/' + words[i] + '.json');
                        if (response.status == 200) {
                            var json = JSON.parse(response.responseText);
                        } else {
                            continue;
                        }

                        for (j = 0; j < json.length; j++) {
                            if (slugs[json[j].slug] == undefined) {
                                slugs[json[j].slug] = 1;
                            } else {
                                slugs[json[j].slug]++;
                            }
                        }

                    }
                    let sortable = [];
                    for (var value in slugs) {
                        sortable.push([value, slugs[value]]);
                    }
                    // console.log(so